---
layout: '../../layouts/SetupPostsLayout.astro'
title: "Secret Scanning"
pubDate: 2023-08-01T16:29:43+05:30
description: "My Top 3 Secret Scanning Tools: Dockerized for Efficiency"
author: "Kaustubh"
image: 
tags: ["cybersecurity", "docker", "SAST"]
---

This is the start of me dockerizing multiple tools into one. Here we go, a little backstory for this post, because i like to narrate. 

Currently for Secrets Scanning to find sensitive information, i used to have different different tools. I used to juggle a bunch of secret scanning tools, running them one by one, waiting for each to finish before starting the next.

That's where I was, trying to keep track of different syntaxes of differnt tools, output formats, and those pesky ansi escape codes when you try to pipe the output from terminal to a file. Trust me, it's as fun as trying to solve a Rubik's Cube in the dark. ðŸ˜µ

So, I thought, why not make life simpler? My first thought was a bash script to run all these tools sequentially. But then, the little voice in my head said, "you're an comp sci major enggineer. automate it even more. make your life harder just for shitz and giggles." ðŸ˜ž

And that's how I stumbled upon the idea of dockerizing these tools. Because, why not challenge yourself when you are already building something like this for the first time.

Let's dive into the tools I've picked for this little adventure:

Git Leaks: It's like the Sherlock Holmes of finding leaks in your Git repos. Check it out(https://github.com/gitleaks/gitleaks)
Gitty Leaks: Think of it as the Watson to Git Leaks' Sherlock. Have a look(https://github.com/kootenpv/gittyleaks)
Talisman: This one's like the guardian angel for your code, keeping those secrets safe. Give it a gander(https://github.com/thoughtworks/talisman)


Now, for the meat of the matter. I've got setup guides for each OS - Windows, Linux, and MacOS. You'll find step-by-step instructions that even your grandma could follow (no offense to tech-savvy grandmas out there).

For the rebels who just want to skip to the good stuff (I see you ðŸ˜¤), jump right to the end for the Docker script.


Git Leaks
    windows Setup: - 
        step 1
        step 2
        step 3
        step 4
    Linux Setup: - 
        step 1
        step 2
        step 3
        step 4
    MacOS Setup: - 
        step 1
        step 2
        step 3
        step 4
Gitty Leaks
    windows Setup: - 
        step 1
        step 2
        step 3
        step 4
    Linux Setup: - 
        step 1
        step 2
        step 3
        step 4
    MacOS Setup: - 
        step 1
        step 2
        step 3
        step 4
Talisman
    windows Setup: - 
        step 1
        step 2
        step 3
        step 4
    Linux Setup: - 
        step 1
        step 2
        step 3
        step 4
    MacOS Setup: - 
        step 1
        step 2
        step 3
        step 4

If you want to run an indivual tool on its own, the setup for installation is above. 


Moving on, now if you want to run it on a repo to scan the secrets OWASP's got this neat repo called wrongsecrets - it's like a playground for secret scanning.(https://github.com/OWASP/wrongsecrets)


Now, for my piÃ¨ce de rÃ©sistance  - the Docker script to bind them all. Imagine it like a master spell that conjures all three tools in one go.


```
script goes here
```

Before you run this, make sure Docker's up and running. 
open the docker desktop/docker daemon
build the image from the script, with 
    `docker build -t secrets-checker .`
then head over to your repo and let it rip with 
    `docker run -it --rm -v "$(PWD):/repo" secrets-checker && cd talisman_html_report/ && python3 -m http.server 8000`

Voila! You'll have reports waiting for you in Secret_Detection_Reports and talisman_html_report.

Pro tip: The Talisman report needs a server to show its full glory, so that's what the latter part of the command is for. Just hit up localhost:8000 after the scan, and you're golden. And hey, don't forget to turn off the server once you're done playing detective.

Footnotes: 
1} The beauty of this script - once the image is built, every time you run the command, it fires up in a container and poof - it's gone once it's done, leaving behind just the reports on your machine. No hassle of remembering to delete containers and saving stuff from container to local host